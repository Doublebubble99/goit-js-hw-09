{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAOC,SAASC,cAAc,SAE9BC,GADSF,SAASC,cAAc,UACtB,CACdE,MAAOH,SAASC,cAAc,yBAC9BG,KAAMJ,SAASC,cAAc,wBAC7BI,OAAQL,SAASC,cAAc,4BAGzBK,EAAwBJ,EAAxBC,MAAOI,EAAiBL,EAAjBE,KAAMI,EAAWN,EAAXG,OAErB,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAEpCH,EAAQ,CACNH,WACAP,MAAAQ,IAKFG,EAAO,CAAEJ,WAAUP,MAAAQ,G,IAIzBZ,EAAKkB,iBAAiB,UAAU,SAAAC,GAC9BA,EAAIC,iBACJ,IAAIC,EAAW,EACXC,EAAaC,OAAOhB,EAAMiB,OAC1BC,EAAYF,OAAOf,EAAKgB,OAC5BE,YAAW,WACT,IAAMC,EAAclB,EAAOe,MAC3Bd,EAAcW,EAAUC,GACrBM,MAAK,SAAAC,G,IAAGlB,EAAQkB,EAARlB,SAAUmB,EAAKD,EAALzB,MACjB2B,EAAAjC,GAASkC,OAAOC,QACd,uBAAwCC,OAAfvB,EAAS,QAAYuB,OAANJ,EAAM,M,IAGjDK,OAAM,SAAAN,G,IAAGlB,EAAQkB,EAARlB,SAAUyB,EAAKP,EAALzB,MAClB2B,EAAAjC,GAASkC,OAAOK,QACd,sBAAuCH,OAAfvB,EAAS,QAAYuB,OAANE,EAAM,M,IAGnD,IAAME,EAAWC,aAAY,WAG3B7B,EADAW,GAAY,EADZC,GAAcG,GAGXG,MAAK,SAAAC,G,IAAGlB,EAAQkB,EAARlB,SAAU6B,EAAKX,EAALzB,MACjB2B,EAAAjC,GAASkC,OAAOC,QACd,uBAAwCC,OAAfvB,EAAS,QAAYuB,OAANM,EAAM,M,IAGjDL,OAAM,SAAAN,G,IAAGlB,EAAQkB,EAARlB,SAAU8B,EAAKZ,EAALzB,MAClB2B,EAAAjC,GAASkC,OAAOK,QACd,sBAAqCH,OAAfvB,EAAS,QAAYuB,OAANO,EAAM,M,IAG7CpB,GAAYM,GACde,cAAcJ,E,GAEfb,E,GACFH,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst form = document.querySelector('.form');\nconst button = document.querySelector('button');\nconst formObj = {\n  delay: document.querySelector(\"input[name = 'delay']\"),\n  step: document.querySelector(\"input[name = 'step']\"),\n  amount: document.querySelector(\"input[name = 'amount']\"),\n};\n\nconst { delay, step, amount } = formObj;\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({\n        position,\n        delay,\n      });\n      // Fulfill\n    } else {\n      // Reject\n      reject({ position, delay });\n    }\n  });\n}\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  let position = 1;\n  let delayValue = Number(delay.value);\n  let stepValue = Number(step.value);\n  setTimeout(() => {\n    const amountValue = amount.value;\n    createPromise(position, delayValue)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      });\n    const interval = setInterval(() => {\n      delayValue += stepValue;\n      position += 1;\n      createPromise(position, delayValue)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        });\n      if (position >= amountValue) {\n        clearInterval(interval);\n      }\n    }, stepValue);\n  }, delayValue);\n});\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$formObj","delay","step","amount","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$createPromise","position","delay1","Promise","resolve","reject","Math","random","addEventListener","evt","preventDefault","position1","delayValue","Number","value","stepValue","setTimeout","amountValue","then","param","delay2","$parcel$interopDefault","Notify","success","concat","catch","delay3","failure","interval","setInterval","delay4","delay5","clearInterval"],"version":3,"file":"03-promises.acb9e30e.js.map"}