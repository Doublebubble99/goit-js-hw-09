{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAOC,SAASC,cAAc,SAE9BC,GADSF,SAASC,cAAc,UACtB,CACdE,MAAOH,SAASC,cAAc,yBAC9BG,KAAMJ,SAASC,cAAc,wBAC7BI,OAAQL,SAASC,cAAc,6BAG3BE,MAAEG,EAAKF,KAAEG,EAAIF,OAAEG,GAAWN,EAEhC,SAASO,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,GAEpCH,EAAQ,C,SACNH,EACAP,MAAAQ,IAKFG,EAAO,C,SAAEJ,EAAUP,MAAAQ,GAAQ,G,CAIjCZ,EAAKkB,iBAAiB,UAAUC,IAC9BA,EAAIC,iBACJ,IAAIC,EAAW,EACXC,EAAaC,OAAOhB,EAAMiB,OAC1BC,EAAYF,OAAOf,EAAKgB,OAC5BE,YAAW,KACT,MAAMC,EAAclB,EAAOe,MAC3Bd,EAAcW,EAAUC,GACrBM,MAAK,EAACjB,SAAEA,EAAUP,MAAAyB,MACjBC,EAAAhC,GAASiC,OAAOC,QACd,uBAAqBrB,QAAiBkB,MAAU,IAGnDI,OAAM,EAACtB,SAAEA,EAAUP,MAAA8B,MAClBJ,EAAAhC,GAASiC,OAAOI,QACd,sBAAoBxB,QAAiBuB,MAAU,IAGrD,MAAME,EAAWC,aAAY,KAC3Bf,GAAcG,EACdJ,GAAY,EACZX,EAAcW,EAAUC,GACrBM,MAAK,EAACjB,SAAEA,EAAUP,MAAAkC,MACjBR,EAAAhC,GAASiC,OAAOC,QACd,uBAAqBrB,QAAiB2B,MAAU,IAGnDL,OAAM,EAACtB,SAAEA,EAAUP,MAAAmC,MAClBT,EAAAhC,GAASiC,OAAOI,QACd,sBAAoBxB,QAAe4B,MAAU,IAG/ClB,GAAYM,GACda,cAAcJ,EAAS,GAExBX,EAAU,GACZH,EAAW","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst form = document.querySelector('.form');\nconst button = document.querySelector('button');\nconst formObj = {\n  delay: document.querySelector(\"input[name = 'delay']\"),\n  step: document.querySelector(\"input[name = 'step']\"),\n  amount: document.querySelector(\"input[name = 'amount']\"),\n};\n\nconst { delay, step, amount } = formObj;\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({\n        position,\n        delay,\n      });\n      // Fulfill\n    } else {\n      // Reject\n      reject({ position, delay });\n    }\n  });\n}\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  let position = 1;\n  let delayValue = Number(delay.value);\n  let stepValue = Number(step.value);\n  setTimeout(() => {\n    const amountValue = amount.value;\n    createPromise(position, delayValue)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      });\n    const interval = setInterval(() => {\n      delayValue += stepValue;\n      position += 1;\n      createPromise(position, delayValue)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        });\n      if (position >= amountValue) {\n        clearInterval(interval);\n      }\n    }, stepValue);\n  }, delayValue);\n});\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$formObj","delay","step","amount","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$createPromise","position","delay1","Promise","resolve","reject","Math","random","addEventListener","evt","preventDefault","position1","delayValue","Number","value","stepValue","setTimeout","amountValue","then","delay2","$parcel$interopDefault","Notify","success","catch","delay3","failure","interval","setInterval","delay4","delay5","clearInterval"],"version":3,"file":"03-promises.eb63bd81.js.map"}